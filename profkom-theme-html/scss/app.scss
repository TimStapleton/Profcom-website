@import "bourbon/bourbon";
@import "neat/neat";

//Variables
$font-face-serif: "Garamond", Times, "Times New Roman", serif;
$font-face-sans:  "Avenir Next", Helvetica, sans-serif;

$border-radius-default: 0.4rem;

//Colors
$gray-dark:  #222;
$gray:       #6D6D6D;
$gray-light: #B6B6B6;
$vapor:      #F9F9F9;
$blue:       #00ACDC;

$gray-transparent: rgba(0,0,0, 0.5);

//Basic styling
html {
  font-size: 10px;
  padding: 0;
  margin: 0;
}

body {
  height: auto;
  padding: 0;
  margin: -1rem 0 0 0;

  background: white;
  font-family: $font-face-sans;
  color: $gray;

  overflow-x: hidden;
}

div {display: block; box-sizing: border-box;}

h1, h2, h3, h4, h5, h6 {
  margin: 0;

  font-family: $font-face-serif;
  font-weight: 200;
  letter-spacing: 0.01em;
}
a, p {
  color: $gray-light !important;
  box-sizing: border-box;
  margin: 0;
  text-decoration: none;
}
h1 {font-size: 3.6rem;}
h2 {font-size: 3.0rem;}
h3 {font-size: 2.4rem;}
h4 {font-size: 2.0rem;}
h5 {font-size: 1.8rem;}
h6 {font-size: 1.0rem;}
a  {font-size: 1.8rem;}
p  {font-size: 1.4rem;}

//Menu styling
$menu-height: 4.4rem;
.menu {
  display: block;
  position: relative;
  height: $menu-height;

  ul.menu-items {
    display: flex;
    flex-flow: row nowrap;
    justify-content: center;
    align-items: center;
    margin: 1rem 0 0 0;

    list-style: none;

    li.menu-item {
      display: block;
      position: relative;
      line-height: 2.6rem;
      padding: 0.8rem 1.7rem 0.8rem 1.6rem;
      margin: 0;
      z-index: 1000 !important;

      //border-right: solid 1px $gray-transparent;

      a {
        color: $gray-light;
        @include transition(all 0.2s ease);

        &.active {
          color: $gray;
        }

        &:hover {
          color: $gray;
        }
      }

      &:after {
        content: '';
        display: block;
        position: absolute;
        right: 0;
        top: 0.8rem;
        width: 1px;
        height: 2.8rem;
        background-color: $gray-transparent;
      }

      &:last-child {
        &:after {
          display: none;
        }
      }

      &:hover > .submenu {
        height: auto;
        top: $menu-height;
        opacity: 1;

        li {
          display: block;
        }
      }
    }

    ul.submenu {
      display: block;
      position: absolute;

      top: 0;
      left: 0;

      width: auto;
      min-width: 18rem;
      max-width: 45rem;
      height: 0;

      z-index: 500;

      margin: 0;
      padding: 0;
      list-style: none;

      background-color: #fafafa;

      opacity: 0;

      @include transition(all 0.3s 0.1s ease);
      transform: translateZ(0);

      li {
        display: none;
        @include transition(all 0.3s 0.1s ease);
        flex: 1;

        width: 100%;

        padding: 0;
        margin: 0;

        a {
          display: block;
          padding: 0.4rem 0.8rem;
          font-size: 1.6rem;
          line-height: 1.2em;
        }
      }

      &:hover {
        height: auto;
        top: $menu-height;
        opacity: 1;

        li {
          display: block;
        }
      }
    }
  }
}

.search-form {
  display: flex;
  flex-flow: row nowrap;
  align-items: stretch;

  input {
    background-color: $gray-light;
    color: $gray-dark;
  }
}

//Header styles
header {
  display: flex;
  flex-flow: column nowrap;

  .cover {
    width: 100vw;
    height: 17rem;
    padding: 4.4rem;

    background-image: url('../images/bg-1.png');
    background-size: cover;
    background-position: center;
    background-color: $gray-light;

    .logo {
      display: block;
      position: relative;
      margin: 0 auto;
      width: 8.2rem;
      height: 8.2rem;

      z-index: 1;
    }

    &.publication {
      height: 80vh;

      background-image: url('../images/post-bg.png');
    }
  }

  .head {
    text-align: center;

    h1.title {
      margin-top: 2.4rem;
      text-transform: uppercase;
    }

    p.intro {
      margin-top: 0.6rem;
    }
  }
}

//Posts styling
$browser-small:   "(min-width:  720px)";
$browser-medium:  "(min-width:  960px)"; /* styles for browsers larger than 960px; */
$browser-large:   "(min-width: 1440px)"; /* styles for browsers larger than 1440px; */
$browser-xlarge:  "(min-width: 2000px)"; /* for sumo sized (mac) screens */
$mobile-small:    "(max-device-width: 480px)"; /* styles for mobile browsers smaller than 480px; (iPhone) */
$mobile-medium:   "(device-width: 768px)"; /* default iPad screens */
$tablet-portrait:  "(min-device-width: 481px) and (max-device-width: 1024px) and (orientation:portrait)";
$tablet-landscape: "(min-device-width: 481px) and (max-device-width: 1024px) and (orientation:landscape)";

$neat-grid: (
  columns: 12,
  gutter: 0.6rem
);

$browser-small-gutter: 0.4rem;
$grid-browser-small:  (
  columns: 2,
  gutter: $browser-small-gutter,
  media: $browser-small
);

$browser-medium-gutter: 0.5rem;
$grid-browser-medium:  (
  columns: 3,
  gutter: $browser-medium-gutter,
  media: $browser-medium
);

$browser-large-gutter: 0.6rem;
$grid-browser-large: (
  columns: 4,
  gutter: $browser-large-gutter,
  media: $browser-large
);

$browser-xlarge-gutter: 0.8rem;
$grid-browser-xlarge:  (
  columns: 5,
  gutter: $browser-xlarge-gutter,
  media: $browser-xlarge
);

.posts {
  margin-top: 1.6rem;

  @include grid-container;

  .post {
    display: block;
    position: relative;
    height: auto;
    z-index: 0;
    min-height: 26rem;
    margin-top: 0.8rem;
    padding: 0;

    overflow: hidden;

    border-radius: $border-radius-default;
    background-color: $gray;
    color: white;
    text-align: center;

    @include grid-column(12);

    @include grid-media($grid-browser-small){
      @include grid-column(1, $grid-browser-small);
      margin-top: $browser-small-gutter;
    }
    @include grid-media($grid-browser-medium){
      @include grid-column(1, $grid-browser-medium);
      margin-top: $browser-medium-gutter;
    }
    @include grid-media($grid-browser-large){
      @include grid-column(1, $grid-browser-large);
      min-height: 22rem;
      margin-top: $browser-large-gutter;
    }
    @include grid-media($grid-browser-xlarge){
      @include grid-column(1, $grid-browser-xlarge);
      min-height: 20rem;
      margin-top: $browser-xlarge-gutter;
    }

    .post-background {
      display: block;
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: -1;

      background-image: url('../images/post-bg.png');
      background-size: cover;

      @include transition(transform 0.2s ease);
      @include transform(scale(1) translateZ(0));

      overflow: hidden !important;
    }

    .post-content {
      display: block;
      position: absolute;
      width: 100%;
      height: 100%;
      z-index: 2;

      margin: 0;
      padding: 2.4rem 1.6rem;

      background: linear-gradient(to top, rgba(0,0,0, 0.1), rgba(0,0,0, 0.3));

      overflow: hidden;
      border-radius: $border-radius-default;

      .post-title {
        text-shadow: 0 1px 3px rgba(0,0,0, 0.3);
        @include transform(translateZ(0));
      }

      .post-date {
        display: block;
        position: absolute;
        left: 50%;
        bottom: 0.8rem;
        z-index: 3;
        @include transform(translate(-50%, 0) translateZ(0));

        font-family: $font-face-sans;
        font-weight: 400;
        color: white !important;
        opacity: 1 !important;
        text-shadow: 0 1px 3px rgba(0,0,0, 0.3);

        @include transition(bottom 0.2s ease);
      }

      .post-tags {
        display: inline-block;
        position: absolute;
        left: 50%;
        bottom: -3.2rem;
        @include transform(translate(-50%) translateZ(0));

        background-color: white;
        color: $gray;
        border-radius: $border-radius-default;
        padding: 0.6rem 0.8rem;

        @include transition(bottom 0.2s ease);

        p {
          display: flex;
          flex-flow: row nowrap;
          justify-content: center;
        }
      }
    }

    &:hover {
      .post-date {
        bottom: 4.2rem;
      }
      .post-tags {
        bottom: 0.8rem;
      }
      .post-background {
        @include transform(scale(1.05) translateZ(0));
      }
    }
  }
}

@keyframes pulse {
  0% {
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
  }
  100% {
    left: -5%;
    top: -5%;
    width: 110%;
    height: 110%;
  }
}

.load-more {
  display: block;
  position: relative;
  font-size: 2rem;
  line-height: 44px;
  height: 44px;

  margin: 2.4rem auto 0;
  padding: 0 2rem;

  font-family: $font-face-sans;
  background-color: $blue;
  color: white;

  border: none;
  border-radius: $border-radius-default;
}

//Footer styling
footer {
  display: flex;
  flex-flow: row wrap;
  justify-content: center;
  align-items: center;

  height: auto;
  margin-top: 6.4rem;

  background-color: $vapor;

  .footer-item {
    position: relative;
    float: left;
    clear: none;
    width: 30%;
    height: 20rem;

    padding: 0 24px;

    &:is(last-child) {
      clear: both;
    }

    h3 {
      text-align: center;
      margin: 2.4rem 0 1.6rem;
    }
  }

  hr {
    position: relative;
    float: left;
    clear: none;
    width: 0px;
    margin: 0;
    border: none;
    border-right: 1px solid $gray-transparent;
  }

  .copyright {
    position: relative;
    background-color: white;
    width: 100vw;
    height: 4rem;

    padding: 0;
    margin: 0;

    text-align: center;

    h6 {
      line-height: 4rem;
      font-size: 1.2rem;
      font-family: $font-face-sans;
    }
  }
}
